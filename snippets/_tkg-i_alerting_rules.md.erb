```yaml
# Apply the following if you have TKG-i installed:
- name: HealthwatchTKGISLOs
  rules:
    - alert: HealthwatchTKGIFunctionalExporter
      expr: 'service_up{service="pks-sli-exporter"} < 1'
      for: 10m
      annotations:
        summary: "The Healthwatch Tanzu Kubernetes Grid Integrated Edition Functional Exporter is down"
        description: |
          The Healthwatch Tanzu Kubernetes Grid Integrated Edition Functional Exporter has been down for 10 minutes.
    - alert: HealthwatchTKGISystemMetricsExporter
      expr: 'service_up{service="pks-exporter"} < 1'
      for: 10m
      annotations:
        summary: "The Healthwatch Tanzu Kubernetes Grid Integrated Edition System Metrics Exporter is down"
        description: |
          The Healthwatch Tanzu Kubernetes Grid Integrated Edition System Metrics Exporter has been down for 10 minutes.

- name: KubernetesClusterMasterNodes
  rules:
    - alert: KubernetesClusterMasterNodeHealth
      expr: 'avg by (cluster) (min by (cluster, instance) ( label_replace(etcd_server_has_leader{}, "instance", "$1", "instance", "(.*):.*") or label_replace(up{job=~".*-kube-scheduler"}, "instance", "$1", "instance", "(.*):.*") or label_replace(up{job=~".*-kube-controller-manager"}, "instance", "$1", "instance", "(.*):.*") or label_replace(up{job=~".*-kubernetes-apiservers"}, "instance", "$1", "instance", "(.*):.*") ) ) < .35'
      for: 10m
      annotations:
        summary: "One or more Tanzu Kubernetes Grid Integrated Edition clusters are running with unhealthy master nodes for at least 10 minutes."
        description: |
          This might affect the operator's ability to administer changes to the clusters they oversee.

          Troubleshooting Steps:
          Identify which clusters are impacted using Kubernetes Cluster Overview dashboard, then view the Cluster Detail dashboard by clicking on the cluster's name in the `Clusters That Might Need Attention` panel to see if API server, scheduler, controller manager, and etcd are up.
          Identify the corresponding BOSH deployment and investigate the logs for the failing jobs on the master VMs.
- name: KubernetesSLITests
  rules:
    - alert: KubernetesSLITests
      expr: 'increase(pks_sli_task_failures_total[2m]) <= 0'
      for: 10m
      annotations:
        summary: "The Tanzu Kubernetes Grid Integrated Edition SLI test ({{ $labels.display_name }}) has been failing for at least 10 minutes."
        description: |
          Tanzu Kubernetes Grid Integrated Edition SLI Tests run every 1 minute by default. This setting is configurable in Ops Manager and may have been changed. These tests are intended to give Platform Operators confidence that Application Developers can successfully interact with and manage applications in their clusters.
          Note: the sli tests will report a failure if any task (e.g. `login`, `clusters`) takes more than 1 minute to complete.

          Troubleshooting Steps:
          If a failure occurs, attempt to use the failed Kubernetes CLI command in a terminal to see why it is failing.
```
